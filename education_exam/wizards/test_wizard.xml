<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <data>

        <record id="education_exam_result_wizard_form" model="ir.ui.view">
            <field name="name">education.exam.result.wizard.form</field>
            <field name="model">education.exam.result.wizard</field>
            <field name="arch" type="xml">
                <form >
                    <button name="generate_results" type="object" string="Calculate Result" attrs="{'invisible': [('state', '=', 'done')]}"/>
                    <!--<button name="%(action_dsblsc_marksheet)d" string="Marksheet A4 Portrait" type="action" />-->
                    <button name="%(action_test_marksheet)d" string="Marksheet A4 Portrait" type="action" />
                    <button name="get_merit_list" string="meritList" type="object" />
                    <button name="del_generated_results" string="Delete Generated Results" type="object" />



                    <group>
                        <field name="academic_year" options="{'no_quick_create': True, 'no_create_edit' : True}"/>
                        <field name="level" options="{'no_quick_create': True, 'no_create_edit' : True}" attrs="{'invisible':[('academic_year','=',False)]}"/>
                        <field name="exams" options="{'no_quick_create': True, 'no_create_edit' : True}" attrs="{'invisible':[('level','=',False)]}" domain="[('class_id','=',level),('academic_year','=',academic_year)]"/>
                        <field name="specific_section" options="{'no_quick_create': True, 'no_create_edit' : True}" />
                        <field name="section" options="{'no_quick_create': True, 'no_create_edit' : True}" attrs="{ 'invisible':[('specific_section','=',False)]}"  domain="[('class_id','=',level),('academic_year_id','=',academic_year)]"/>
                        <field name="specific_student" options="{'no_quick_create': True, 'no_create_edit' : True}" attrs="{ 'invisible':[('specific_section','=',False)]}"/>
                        <field name="student" options="{'no_quick_create': True, 'no_create_edit' : True}" attrs="{'invisible': [('specific_student','=',False)]}"  domain="[('class_id','=',section)]"/>
                        <field name="state"  invisible="True"/>

                    </group>

                </form>
            </field>
        </record>
         <record id="education_exam_result_wizard_tree" model="ir.ui.view">
            <field name="name">education.exam.result.wizard</field>
            <field name="model">education.exam.result.wizard</field>
            <field name="arch" type="xml">
                <tree >
                        <field name="academic_year"/>
                        <field name="exams"/>
                        <field name="student"/>
                </tree>
            </field>
        </record>
        <record id="act_education_exam_result_wizard" model="ir.actions.act_window">
            <field name="name">Education Exam Test Wizard</field>
            <field name="res_model">education.exam.result.wizard</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="target">new</field>
            <!--<field name="context">{'search_default_group_class_id': 1, 'search_default_group_division_id':1,-->
                <!--'search_default_group_exam_id':1}-->
            <!--</field>-->
        </record>

        <act_window id="education_exam_result_wizard"
                    name="test Results"
                    src_model="academic.transcript"
                    res_model="education.exam.result.wizard"
                    view_mode="form"
                    target="new"
                    key2="client_action_multi"/>



        <menuitem id="education_exam_result_wizard_menu" parent="education_exam.examination_result_main_menu"
                  action="act_education_exam_result_wizard" name="Test" sequence="20" groups="base.group_user"/>

    </data>
</odoo>
